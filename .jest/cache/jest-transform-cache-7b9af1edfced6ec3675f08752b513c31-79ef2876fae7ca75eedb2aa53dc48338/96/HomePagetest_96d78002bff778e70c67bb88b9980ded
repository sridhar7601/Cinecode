aa5dd61c1f09b864241d11b7eaddd993
_getJestObj().mock('axios');
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _axios = _interopRequireDefault(require("axios"));
var _HomePage = _interopRequireDefault(require("./HomePage"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('HomePage', function () {
  it('should render the component', function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_HomePage.default, {})),
      toJSON = _render.toJSON;
    expect(toJSON()).toMatchSnapshot();
  });
  it('should fetch and display movies by year', (0, _asyncToGenerator2.default)(function* () {
    var mockMovies = [{
      id: 1,
      title: 'Movie 1',
      release_date: '2012-01-01'
    }, {
      id: 2,
      title: 'Movie 2',
      release_date: '2013-02-01'
    }, {
      id: 3,
      title: 'Movie 3',
      release_date: '2014-03-01'
    }];
    _axios.default.get.mockResolvedValueOnce({
      data: {
        results: mockMovies
      }
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_HomePage.default, {})),
      getByText = _render2.getByText;
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('2012')).toBeDefined();
      expect(getByText('2013')).toBeDefined();
      expect(getByText('2014')).toBeDefined();
    });
  }));
  it('should filter movies by selected genres', (0, _asyncToGenerator2.default)(function* () {
    var mockMovies = [{
      id: 1,
      title: 'Action Movie',
      genre_ids: [28]
    }, {
      id: 2,
      title: 'Sci-Fi Movie',
      genre_ids: [12]
    }, {
      id: 3,
      title: 'Horror Movie',
      genre_ids: [16]
    }];
    _axios.default.get.mockResolvedValueOnce({
      data: {
        results: mockMovies
      }
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_HomePage.default, {})),
      getByLabelText = _render3.getByLabelText,
      getByText = _render3.getByText;
    _reactNative.fireEvent.press(getByLabelText('28'));
    _reactNative.fireEvent.press(getByLabelText('12'));
    yield (0, _reactNative.waitFor)(function () {
      expect(getByText('Action Movie')).toBeDefined();
      expect(getByText('Sci-Fi Movie')).toBeDefined();
      expect(function () {
        return getByText('Horror Movie');
      }).toThrow();
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9hc3luY1RvR2VuZXJhdG9yMiIsIl9yZWFjdCIsIl9yZWFjdE5hdGl2ZSIsIl9heGlvcyIsIl9Ib21lUGFnZSIsIl9qc3hSdW50aW1lIiwiX3JlcXVpcmUiLCJqZXN0IiwiZGVzY3JpYmUiLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJqc3giLCJkZWZhdWx0IiwidG9KU09OIiwiZXhwZWN0IiwidG9NYXRjaFNuYXBzaG90IiwibW9ja01vdmllcyIsImlkIiwidGl0bGUiLCJyZWxlYXNlX2RhdGUiLCJheGlvcyIsImdldCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsImRhdGEiLCJyZXN1bHRzIiwiX3JlbmRlcjIiLCJnZXRCeVRleHQiLCJ3YWl0Rm9yIiwidG9CZURlZmluZWQiLCJnZW5yZV9pZHMiLCJfcmVuZGVyMyIsImdldEJ5TGFiZWxUZXh0IiwiZmlyZUV2ZW50IiwicHJlc3MiLCJ0b1Rocm93Il0sInNvdXJjZXMiOlsiSG9tZVBhZ2UudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmUnO1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCBIb21lUGFnZSBmcm9tICcuL0hvbWVQYWdlJztcblxuamVzdC5tb2NrKCdheGlvcycpO1xuXG5kZXNjcmliZSgnSG9tZVBhZ2UnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgcmVuZGVyIHRoZSBjb21wb25lbnQnLCAoKSA9PiB7XG4gICAgY29uc3QgeyB0b0pTT04gfSA9IHJlbmRlcig8SG9tZVBhZ2UgLz4pO1xuICAgIGV4cGVjdCh0b0pTT04oKSkudG9NYXRjaFNuYXBzaG90KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZmV0Y2ggYW5kIGRpc3BsYXkgbW92aWVzIGJ5IHllYXInLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9ja01vdmllcyA9IFtcbiAgICAgIHsgaWQ6IDEsIHRpdGxlOiAnTW92aWUgMScsIHJlbGVhc2VfZGF0ZTogJzIwMTItMDEtMDEnIH0sXG4gICAgICB7IGlkOiAyLCB0aXRsZTogJ01vdmllIDInLCByZWxlYXNlX2RhdGU6ICcyMDEzLTAyLTAxJyB9LFxuICAgICAgeyBpZDogMywgdGl0bGU6ICdNb3ZpZSAzJywgcmVsZWFzZV9kYXRlOiAnMjAxNC0wMy0wMScgfSxcbiAgICBdO1xuXG4gICAgYXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IHsgcmVzdWx0czogbW9ja01vdmllcyB9IH0pO1xuXG4gICAgY29uc3QgeyBnZXRCeVRleHQgfSA9IHJlbmRlcig8SG9tZVBhZ2UgLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCcyMDEyJykpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCcyMDEzJykpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCcyMDE0JykpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgZmlsdGVyIG1vdmllcyBieSBzZWxlY3RlZCBnZW5yZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgbW9ja01vdmllcyA9IFtcbiAgICAgIHsgaWQ6IDEsIHRpdGxlOiAnQWN0aW9uIE1vdmllJywgZ2VucmVfaWRzOiBbMjhdIH0sXG4gICAgICB7IGlkOiAyLCB0aXRsZTogJ1NjaS1GaSBNb3ZpZScsIGdlbnJlX2lkczogWzEyXSB9LFxuICAgICAgeyBpZDogMywgdGl0bGU6ICdIb3Jyb3IgTW92aWUnLCBnZW5yZV9pZHM6IFsxNl0gfSxcbiAgICBdO1xuXG4gICAgYXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IHsgcmVzdWx0czogbW9ja01vdmllcyB9IH0pO1xuXG4gICAgY29uc3QgeyBnZXRCeUxhYmVsVGV4dCwgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPEhvbWVQYWdlIC8+KTtcblxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeUxhYmVsVGV4dCgnMjgnKSk7XG4gICAgZmlyZUV2ZW50LnByZXNzKGdldEJ5TGFiZWxUZXh0KCcxMicpKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldEJ5VGV4dCgnQWN0aW9uIE1vdmllJykpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoZ2V0QnlUZXh0KCdTY2ktRmkgTW92aWUnKSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCgoKSA9PiBnZXRCeVRleHQoJ0hvcnJvciBNb3ZpZScpKS50b1Rocm93KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFLQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsT0FBTyxDQUFDO0FBQUMsSUFBQUMsc0JBQUEsR0FBQUMsT0FBQTtBQUFBLElBQUFDLGtCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFMbkIsSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsWUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksTUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssU0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLElBQUFNLFdBQUEsR0FBQU4sT0FBQTtBQUFBLFNBQUFILFlBQUE7RUFBQSxJQUFBVSxRQUFBLEdBQUFQLE9BQUE7SUFBQVEsSUFBQSxHQUFBRCxRQUFBLENBQUFDLElBQUE7RUFBQVgsV0FBQSxZQUFBQSxZQUFBO0lBQUEsT0FBQVcsSUFBQTtFQUFBO0VBQUEsT0FBQUEsSUFBQTtBQUFBO0FBSWxDQyxRQUFRLENBQUMsVUFBVSxFQUFFLFlBQU07RUFDekJDLEVBQUUsQ0FBQyw2QkFBNkIsRUFBRSxZQUFNO0lBQ3RDLElBQUFDLE9BQUEsR0FBbUIsSUFBQUMsbUJBQU0sRUFBQyxJQUFBTixXQUFBLENBQUFPLEdBQUEsRUFBQ1IsU0FBQSxDQUFBUyxPQUFRLElBQUUsQ0FBQyxDQUFDO01BQS9CQyxNQUFNLEdBQUFKLE9BQUEsQ0FBTkksTUFBTTtJQUNkQyxNQUFNLENBQUNELE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQ0UsZUFBZSxDQUFDLENBQUM7RUFDcEMsQ0FBQyxDQUFDO0VBRUZQLEVBQUUsQ0FBQyx5Q0FBeUMsTUFBQVQsa0JBQUEsQ0FBQWEsT0FBQSxFQUFFLGFBQVk7SUFDeEQsSUFBTUksVUFBVSxHQUFHLENBQ2pCO01BQUVDLEVBQUUsRUFBRSxDQUFDO01BQUVDLEtBQUssRUFBRSxTQUFTO01BQUVDLFlBQVksRUFBRTtJQUFhLENBQUMsRUFDdkQ7TUFBRUYsRUFBRSxFQUFFLENBQUM7TUFBRUMsS0FBSyxFQUFFLFNBQVM7TUFBRUMsWUFBWSxFQUFFO0lBQWEsQ0FBQyxFQUN2RDtNQUFFRixFQUFFLEVBQUUsQ0FBQztNQUFFQyxLQUFLLEVBQUUsU0FBUztNQUFFQyxZQUFZLEVBQUU7SUFBYSxDQUFDLENBQ3hEO0lBRURDLGNBQUssQ0FBQ0MsR0FBRyxDQUFDQyxxQkFBcUIsQ0FBQztNQUFFQyxJQUFJLEVBQUU7UUFBRUMsT0FBTyxFQUFFUjtNQUFXO0lBQUUsQ0FBQyxDQUFDO0lBRWxFLElBQUFTLFFBQUEsR0FBc0IsSUFBQWYsbUJBQU0sRUFBQyxJQUFBTixXQUFBLENBQUFPLEdBQUEsRUFBQ1IsU0FBQSxDQUFBUyxPQUFRLElBQUUsQ0FBQyxDQUFDO01BQWxDYyxTQUFTLEdBQUFELFFBQUEsQ0FBVEMsU0FBUztJQUVqQixNQUFNLElBQUFDLG9CQUFPLEVBQUMsWUFBTTtNQUNsQmIsTUFBTSxDQUFDWSxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQ0UsV0FBVyxDQUFDLENBQUM7TUFDdkNkLE1BQU0sQ0FBQ1ksU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUNFLFdBQVcsQ0FBQyxDQUFDO01BQ3ZDZCxNQUFNLENBQUNZLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDRSxXQUFXLENBQUMsQ0FBQztJQUN6QyxDQUFDLENBQUM7RUFDSixDQUFDLEVBQUM7RUFFRnBCLEVBQUUsQ0FBQyx5Q0FBeUMsTUFBQVQsa0JBQUEsQ0FBQWEsT0FBQSxFQUFFLGFBQVk7SUFDeEQsSUFBTUksVUFBVSxHQUFHLENBQ2pCO01BQUVDLEVBQUUsRUFBRSxDQUFDO01BQUVDLEtBQUssRUFBRSxjQUFjO01BQUVXLFNBQVMsRUFBRSxDQUFDLEVBQUU7SUFBRSxDQUFDLEVBQ2pEO01BQUVaLEVBQUUsRUFBRSxDQUFDO01BQUVDLEtBQUssRUFBRSxjQUFjO01BQUVXLFNBQVMsRUFBRSxDQUFDLEVBQUU7SUFBRSxDQUFDLEVBQ2pEO01BQUVaLEVBQUUsRUFBRSxDQUFDO01BQUVDLEtBQUssRUFBRSxjQUFjO01BQUVXLFNBQVMsRUFBRSxDQUFDLEVBQUU7SUFBRSxDQUFDLENBQ2xEO0lBRURULGNBQUssQ0FBQ0MsR0FBRyxDQUFDQyxxQkFBcUIsQ0FBQztNQUFFQyxJQUFJLEVBQUU7UUFBRUMsT0FBTyxFQUFFUjtNQUFXO0lBQUUsQ0FBQyxDQUFDO0lBRWxFLElBQUFjLFFBQUEsR0FBc0MsSUFBQXBCLG1CQUFNLEVBQUMsSUFBQU4sV0FBQSxDQUFBTyxHQUFBLEVBQUNSLFNBQUEsQ0FBQVMsT0FBUSxJQUFFLENBQUMsQ0FBQztNQUFsRG1CLGNBQWMsR0FBQUQsUUFBQSxDQUFkQyxjQUFjO01BQUVMLFNBQVMsR0FBQUksUUFBQSxDQUFUSixTQUFTO0lBRWpDTSxzQkFBUyxDQUFDQyxLQUFLLENBQUNGLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyQ0Msc0JBQVMsQ0FBQ0MsS0FBSyxDQUFDRixjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFckMsTUFBTSxJQUFBSixvQkFBTyxFQUFDLFlBQU07TUFDbEJiLE1BQU0sQ0FBQ1ksU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUNFLFdBQVcsQ0FBQyxDQUFDO01BQy9DZCxNQUFNLENBQUNZLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDRSxXQUFXLENBQUMsQ0FBQztNQUMvQ2QsTUFBTSxDQUFDO1FBQUEsT0FBTVksU0FBUyxDQUFDLGNBQWMsQ0FBQztNQUFBLEVBQUMsQ0FBQ1EsT0FBTyxDQUFDLENBQUM7SUFDbkQsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxFQUFDO0FBQ0osQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119