ead5f08d62e789f39dbea73ee62a80dc
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
exports.flushValue = flushValue;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _InteractionManager = _interopRequireDefault(require("../../Interaction/InteractionManager"));
var _NativeAnimatedHelper = _interopRequireDefault(require("../NativeAnimatedHelper"));
var _AnimatedInterpolation = _interopRequireDefault(require("./AnimatedInterpolation"));
var _AnimatedWithChildren2 = _interopRequireDefault(require("./AnimatedWithChildren"));
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var NativeAnimatedAPI = _NativeAnimatedHelper.default.API;
function flushValue(rootNode) {
  var leaves = new Set();
  function findAnimatedStyles(node) {
    if (typeof node.update === 'function') {
      leaves.add(node);
    } else {
      node.__getChildren().forEach(findAnimatedStyles);
    }
  }
  findAnimatedStyles(rootNode);
  leaves.forEach(function (leaf) {
    return leaf.update();
  });
}
function _executeAsAnimatedBatch(id, operation) {
  NativeAnimatedAPI.setWaitingForIdentifier(id);
  operation();
  NativeAnimatedAPI.unsetWaitingForIdentifier(id);
}
var AnimatedValue = exports.default = function (_AnimatedWithChildren) {
  function AnimatedValue(value, config) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedValue);
    _this = _callSuper(this, AnimatedValue);
    if (typeof value !== 'number') {
      throw new Error('AnimatedValue: Attempting to set value to undefined');
    }
    _this._startingValue = _this._value = value;
    _this._offset = 0;
    _this._animation = null;
    if (config && config.useNativeDriver) {
      _this.__makeNative();
    }
    return _this;
  }
  (0, _inherits2.default)(AnimatedValue, _AnimatedWithChildren);
  return (0, _createClass2.default)(AnimatedValue, [{
    key: "__detach",
    value: function __detach() {
      var _this2 = this;
      if (this.__isNative) {
        NativeAnimatedAPI.getValue(this.__getNativeTag(), function (value) {
          _this2._value = value - _this2._offset;
        });
      }
      this.stopAnimation();
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValue.prototype), "__detach", this).call(this);
    }
  }, {
    key: "__getValue",
    value: function __getValue() {
      return this._value + this._offset;
    }
  }, {
    key: "setValue",
    value: function setValue(value) {
      var _this3 = this;
      if (this._animation) {
        this._animation.stop();
        this._animation = null;
      }
      this._updateValue(value, !this.__isNative);
      if (this.__isNative) {
        _executeAsAnimatedBatch(this.__getNativeTag().toString(), function () {
          return NativeAnimatedAPI.setAnimatedNodeValue(_this3.__getNativeTag(), value);
        });
      }
    }
  }, {
    key: "setOffset",
    value: function setOffset(offset) {
      this._offset = offset;
      if (this.__isNative) {
        NativeAnimatedAPI.setAnimatedNodeOffset(this.__getNativeTag(), offset);
      }
    }
  }, {
    key: "flattenOffset",
    value: function flattenOffset() {
      this._value += this._offset;
      this._offset = 0;
      if (this.__isNative) {
        NativeAnimatedAPI.flattenAnimatedNodeOffset(this.__getNativeTag());
      }
    }
  }, {
    key: "extractOffset",
    value: function extractOffset() {
      this._offset += this._value;
      this._value = 0;
      if (this.__isNative) {
        NativeAnimatedAPI.extractAnimatedNodeOffset(this.__getNativeTag());
      }
    }
  }, {
    key: "stopAnimation",
    value: function stopAnimation(callback) {
      this.stopTracking();
      this._animation && this._animation.stop();
      this._animation = null;
      if (callback) {
        if (this.__isNative) {
          NativeAnimatedAPI.getValue(this.__getNativeTag(), callback);
        } else {
          callback(this.__getValue());
        }
      }
    }
  }, {
    key: "resetAnimation",
    value: function resetAnimation(callback) {
      this.stopAnimation(callback);
      this._value = this._startingValue;
      if (this.__isNative) {
        NativeAnimatedAPI.setAnimatedNodeValue(this.__getNativeTag(), this._startingValue);
      }
    }
  }, {
    key: "__onAnimatedValueUpdateReceived",
    value: function __onAnimatedValueUpdateReceived(value) {
      this._updateValue(value, false);
    }
  }, {
    key: "interpolate",
    value: function interpolate(config) {
      return new _AnimatedInterpolation.default(this, config);
    }
  }, {
    key: "animate",
    value: function animate(animation, callback) {
      var _this4 = this;
      var handle = null;
      if (animation.__isInteraction) {
        handle = _InteractionManager.default.createInteractionHandle();
      }
      var previousAnimation = this._animation;
      this._animation && this._animation.stop();
      this._animation = animation;
      animation.start(this._value, function (value) {
        _this4._updateValue(value, true);
      }, function (result) {
        _this4._animation = null;
        if (handle !== null) {
          _InteractionManager.default.clearInteractionHandle(handle);
        }
        callback && callback(result);
      }, previousAnimation, this);
    }
  }, {
    key: "stopTracking",
    value: function stopTracking() {
      this._tracking && this._tracking.__detach();
      this._tracking = null;
    }
  }, {
    key: "track",
    value: function track(tracking) {
      this.stopTracking();
      this._tracking = tracking;
      this._tracking && this._tracking.update();
    }
  }, {
    key: "_updateValue",
    value: function _updateValue(value, flush) {
      if (value === undefined) {
        throw new Error('AnimatedValue: Attempting to set value to undefined');
      }
      this._value = value;
      if (flush) {
        flushValue(this);
      }
      this.__callListeners(this.__getValue());
    }
  }, {
    key: "__getNativeConfig",
    value: function __getNativeConfig() {
      return {
        type: 'value',
        value: this._value,
        offset: this._offset
      };
    }
  }]);
}(_AnimatedWithChildren2.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsImZsdXNoVmFsdWUiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NyZWF0ZUNsYXNzMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9nZXQyIiwiX2dldFByb3RvdHlwZU9mMiIsIl9pbmhlcml0czIiLCJfSW50ZXJhY3Rpb25NYW5hZ2VyIiwiX05hdGl2ZUFuaW1hdGVkSGVscGVyIiwiX0FuaW1hdGVkSW50ZXJwb2xhdGlvbiIsIl9BbmltYXRlZFdpdGhDaGlsZHJlbjIiLCJfY2FsbFN1cGVyIiwidCIsIm8iLCJlIiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJjYWxsIiwiTmF0aXZlQW5pbWF0ZWRBUEkiLCJOYXRpdmVBbmltYXRlZEhlbHBlciIsIkFQSSIsInJvb3ROb2RlIiwibGVhdmVzIiwiU2V0IiwiZmluZEFuaW1hdGVkU3R5bGVzIiwibm9kZSIsInVwZGF0ZSIsImFkZCIsIl9fZ2V0Q2hpbGRyZW4iLCJmb3JFYWNoIiwibGVhZiIsIl9leGVjdXRlQXNBbmltYXRlZEJhdGNoIiwiaWQiLCJvcGVyYXRpb24iLCJzZXRXYWl0aW5nRm9ySWRlbnRpZmllciIsInVuc2V0V2FpdGluZ0ZvcklkZW50aWZpZXIiLCJBbmltYXRlZFZhbHVlIiwiX0FuaW1hdGVkV2l0aENoaWxkcmVuIiwiY29uZmlnIiwiX3RoaXMiLCJFcnJvciIsIl9zdGFydGluZ1ZhbHVlIiwiX3ZhbHVlIiwiX29mZnNldCIsIl9hbmltYXRpb24iLCJ1c2VOYXRpdmVEcml2ZXIiLCJfX21ha2VOYXRpdmUiLCJrZXkiLCJfX2RldGFjaCIsIl90aGlzMiIsIl9faXNOYXRpdmUiLCJnZXRWYWx1ZSIsIl9fZ2V0TmF0aXZlVGFnIiwic3RvcEFuaW1hdGlvbiIsIl9fZ2V0VmFsdWUiLCJzZXRWYWx1ZSIsIl90aGlzMyIsInN0b3AiLCJfdXBkYXRlVmFsdWUiLCJ0b1N0cmluZyIsInNldEFuaW1hdGVkTm9kZVZhbHVlIiwic2V0T2Zmc2V0Iiwib2Zmc2V0Iiwic2V0QW5pbWF0ZWROb2RlT2Zmc2V0IiwiZmxhdHRlbk9mZnNldCIsImZsYXR0ZW5BbmltYXRlZE5vZGVPZmZzZXQiLCJleHRyYWN0T2Zmc2V0IiwiZXh0cmFjdEFuaW1hdGVkTm9kZU9mZnNldCIsImNhbGxiYWNrIiwic3RvcFRyYWNraW5nIiwicmVzZXRBbmltYXRpb24iLCJfX29uQW5pbWF0ZWRWYWx1ZVVwZGF0ZVJlY2VpdmVkIiwiaW50ZXJwb2xhdGUiLCJBbmltYXRlZEludGVycG9sYXRpb24iLCJhbmltYXRlIiwiYW5pbWF0aW9uIiwiX3RoaXM0IiwiaGFuZGxlIiwiX19pc0ludGVyYWN0aW9uIiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiY3JlYXRlSW50ZXJhY3Rpb25IYW5kbGUiLCJwcmV2aW91c0FuaW1hdGlvbiIsInN0YXJ0IiwicmVzdWx0IiwiY2xlYXJJbnRlcmFjdGlvbkhhbmRsZSIsIl90cmFja2luZyIsInRyYWNrIiwidHJhY2tpbmciLCJmbHVzaCIsInVuZGVmaW5lZCIsIl9fY2FsbExpc3RlbmVycyIsIl9fZ2V0TmF0aXZlQ29uZmlnIiwidHlwZSIsIkFuaW1hdGVkV2l0aENoaWxkcmVuIl0sInNvdXJjZXMiOlsiQW5pbWF0ZWRWYWx1ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0eXBlIEFuaW1hdGlvbiwge0VuZENhbGxiYWNrfSBmcm9tICcuLi9hbmltYXRpb25zL0FuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7SW50ZXJwb2xhdGlvbkNvbmZpZ1R5cGV9IGZyb20gJy4vQW5pbWF0ZWRJbnRlcnBvbGF0aW9uJztcbmltcG9ydCB0eXBlIEFuaW1hdGVkTm9kZSBmcm9tICcuL0FuaW1hdGVkTm9kZSc7XG5pbXBvcnQgdHlwZSBBbmltYXRlZFRyYWNraW5nIGZyb20gJy4vQW5pbWF0ZWRUcmFja2luZyc7XG5cbmltcG9ydCBJbnRlcmFjdGlvbk1hbmFnZXIgZnJvbSAnLi4vLi4vSW50ZXJhY3Rpb24vSW50ZXJhY3Rpb25NYW5hZ2VyJztcbmltcG9ydCBOYXRpdmVBbmltYXRlZEhlbHBlciBmcm9tICcuLi9OYXRpdmVBbmltYXRlZEhlbHBlcic7XG5pbXBvcnQgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uIGZyb20gJy4vQW5pbWF0ZWRJbnRlcnBvbGF0aW9uJztcbmltcG9ydCBBbmltYXRlZFdpdGhDaGlsZHJlbiBmcm9tICcuL0FuaW1hdGVkV2l0aENoaWxkcmVuJztcblxuZXhwb3J0IHR5cGUgQW5pbWF0ZWRWYWx1ZUNvbmZpZyA9ICRSZWFkT25seTx7XG4gIHVzZU5hdGl2ZURyaXZlcjogYm9vbGVhbixcbn0+O1xuXG5jb25zdCBOYXRpdmVBbmltYXRlZEFQSSA9IE5hdGl2ZUFuaW1hdGVkSGVscGVyLkFQSTtcblxuLyoqXG4gKiBBbmltYXRlZCB3b3JrcyBieSBidWlsZGluZyBhIGRpcmVjdGVkIGFjeWNsaWMgZ3JhcGggb2YgZGVwZW5kZW5jaWVzXG4gKiB0cmFuc3BhcmVudGx5IHdoZW4geW91IHJlbmRlciB5b3VyIEFuaW1hdGVkIGNvbXBvbmVudHMuXG4gKlxuICogICAgICAgICAgICAgICBuZXcgQW5pbWF0ZWQuVmFsdWUoMClcbiAqICAgICAuaW50ZXJwb2xhdGUoKSAgICAgICAgLmludGVycG9sYXRlKCkgICAgbmV3IEFuaW1hdGVkLlZhbHVlKDEpXG4gKiAgICAgICAgIG9wYWNpdHkgICAgICAgICAgICAgICB0cmFuc2xhdGVZICAgICAgc2NhbGVcbiAqICAgICAgICAgIHN0eWxlICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVxuICogICAgICAgICBWaWV3IzIzNCAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZXcjMTIzXG4gKlxuICogQSkgVG9wIERvd24gcGhhc2VcbiAqIFdoZW4gYW4gQW5pbWF0ZWQuVmFsdWUgaXMgdXBkYXRlZCwgd2UgcmVjdXJzaXZlbHkgZ28gZG93biB0aHJvdWdoIHRoaXNcbiAqIGdyYXBoIGluIG9yZGVyIHRvIGZpbmQgbGVhZiBub2RlczogdGhlIHZpZXdzIHRoYXQgd2UgZmxhZyBhcyBuZWVkaW5nXG4gKiBhbiB1cGRhdGUuXG4gKlxuICogQikgQm90dG9tIFVwIHBoYXNlXG4gKiBXaGVuIGEgdmlldyBpcyBmbGFnZ2VkIGFzIG5lZWRpbmcgYW4gdXBkYXRlLCB3ZSByZWN1cnNpdmVseSBnbyBiYWNrIHVwXG4gKiBpbiBvcmRlciB0byBidWlsZCB0aGUgbmV3IHZhbHVlIHRoYXQgaXQgbmVlZHMuIFRoZSByZWFzb24gd2h5IHdlIG5lZWRcbiAqIHRoaXMgdHdvLXBoYXNlcyBwcm9jZXNzIGlzIHRvIGRlYWwgd2l0aCBjb21wb3NpdGUgcHJvcHMgc3VjaCBhc1xuICogdHJhbnNmb3JtIHdoaWNoIGNhbiByZWNlaXZlIHZhbHVlcyBmcm9tIG11bHRpcGxlIHBhcmVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaFZhbHVlKHJvb3ROb2RlOiBBbmltYXRlZE5vZGUpOiB2b2lkIHtcbiAgY29uc3QgbGVhdmVzID0gbmV3IFNldDx7dXBkYXRlOiAoKSA9PiB2b2lkLCAuLi59PigpO1xuICBmdW5jdGlvbiBmaW5kQW5pbWF0ZWRTdHlsZXMobm9kZTogQW5pbWF0ZWROb2RlKSB7XG4gICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG4gICAgaWYgKHR5cGVvZiBub2RlLnVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbGVhdmVzLmFkZCgobm9kZTogYW55KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuX19nZXRDaGlsZHJlbigpLmZvckVhY2goZmluZEFuaW1hdGVkU3R5bGVzKTtcbiAgICB9XG4gIH1cbiAgZmluZEFuaW1hdGVkU3R5bGVzKHJvb3ROb2RlKTtcbiAgbGVhdmVzLmZvckVhY2gobGVhZiA9PiBsZWFmLnVwZGF0ZSgpKTtcbn1cblxuLyoqXG4gKiBTb21lIG9wZXJhdGlvbnMgYXJlIGV4ZWN1dGVkIG9ubHkgb24gYmF0Y2ggZW5kLCB3aGljaCBpcyBfbW9zdGx5XyBzY2hlZHVsZWQgd2hlblxuICogQW5pbWF0ZWQgY29tcG9uZW50IHByb3BzIGNoYW5nZS4gRm9yIHNvbWUgb2YgdGhlIGNoYW5nZXMgd2hpY2ggcmVxdWlyZSBpbW1lZGlhdGUgZXhlY3V0aW9uXG4gKiAoZS5nLiBzZXRWYWx1ZSksIHdlIGNyZWF0ZSBhIHNlcGFyYXRlIGJhdGNoIGluIGNhc2Ugbm9uZSBpcyBzY2hlZHVsZWQuXG4gKi9cbmZ1bmN0aW9uIF9leGVjdXRlQXNBbmltYXRlZEJhdGNoKGlkOiBzdHJpbmcsIG9wZXJhdGlvbjogKCkgPT4gdm9pZCkge1xuICBOYXRpdmVBbmltYXRlZEFQSS5zZXRXYWl0aW5nRm9ySWRlbnRpZmllcihpZCk7XG4gIG9wZXJhdGlvbigpO1xuICBOYXRpdmVBbmltYXRlZEFQSS51bnNldFdhaXRpbmdGb3JJZGVudGlmaWVyKGlkKTtcbn1cblxuLyoqXG4gKiBTdGFuZGFyZCB2YWx1ZSBmb3IgZHJpdmluZyBhbmltYXRpb25zLiAgT25lIGBBbmltYXRlZC5WYWx1ZWAgY2FuIGRyaXZlXG4gKiBtdWx0aXBsZSBwcm9wZXJ0aWVzIGluIGEgc3luY2hyb25pemVkIGZhc2hpb24sIGJ1dCBjYW4gb25seSBiZSBkcml2ZW4gYnkgb25lXG4gKiBtZWNoYW5pc20gYXQgYSB0aW1lLiAgVXNpbmcgYSBuZXcgbWVjaGFuaXNtIChlLmcuIHN0YXJ0aW5nIGEgbmV3IGFuaW1hdGlvbixcbiAqIG9yIGNhbGxpbmcgYHNldFZhbHVlYCkgd2lsbCBzdG9wIGFueSBwcmV2aW91cyBvbmVzLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5pbWF0ZWRWYWx1ZSBleHRlbmRzIEFuaW1hdGVkV2l0aENoaWxkcmVuIHtcbiAgX3ZhbHVlOiBudW1iZXI7XG4gIF9zdGFydGluZ1ZhbHVlOiBudW1iZXI7XG4gIF9vZmZzZXQ6IG51bWJlcjtcbiAgX2FuaW1hdGlvbjogP0FuaW1hdGlvbjtcbiAgX3RyYWNraW5nOiA/QW5pbWF0ZWRUcmFja2luZztcblxuICBjb25zdHJ1Y3Rvcih2YWx1ZTogbnVtYmVyLCBjb25maWc/OiA/QW5pbWF0ZWRWYWx1ZUNvbmZpZykge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQW5pbWF0ZWRWYWx1ZTogQXR0ZW1wdGluZyB0byBzZXQgdmFsdWUgdG8gdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHRoaXMuX3N0YXJ0aW5nVmFsdWUgPSB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG4gICAgdGhpcy5fYW5pbWF0aW9uID0gbnVsbDtcbiAgICBpZiAoY29uZmlnICYmIGNvbmZpZy51c2VOYXRpdmVEcml2ZXIpIHtcbiAgICAgIHRoaXMuX19tYWtlTmF0aXZlKCk7XG4gICAgfVxuICB9XG5cbiAgX19kZXRhY2goKSB7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkuZ2V0VmFsdWUodGhpcy5fX2dldE5hdGl2ZVRhZygpLCB2YWx1ZSA9PiB7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWUgLSB0aGlzLl9vZmZzZXQ7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zdG9wQW5pbWF0aW9uKCk7XG4gICAgc3VwZXIuX19kZXRhY2goKTtcbiAgfVxuXG4gIF9fZ2V0VmFsdWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgKyB0aGlzLl9vZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogRGlyZWN0bHkgc2V0IHRoZSB2YWx1ZS4gIFRoaXMgd2lsbCBzdG9wIGFueSBhbmltYXRpb25zIHJ1bm5pbmcgb24gdGhlIHZhbHVlXG4gICAqIGFuZCB1cGRhdGUgYWxsIHRoZSBib3VuZCBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI3NldHZhbHVlXG4gICAqL1xuICBzZXRWYWx1ZSh2YWx1ZTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2FuaW1hdGlvbikge1xuICAgICAgdGhpcy5fYW5pbWF0aW9uLnN0b3AoKTtcbiAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVZhbHVlKFxuICAgICAgdmFsdWUsXG4gICAgICAhdGhpcy5fX2lzTmF0aXZlIC8qIGRvbid0IHBlcmZvcm0gYSBmbHVzaCBmb3IgbmF0aXZlbHkgZHJpdmVuIHZhbHVlcyAqLyxcbiAgICApO1xuICAgIGlmICh0aGlzLl9faXNOYXRpdmUpIHtcbiAgICAgIF9leGVjdXRlQXNBbmltYXRlZEJhdGNoKHRoaXMuX19nZXROYXRpdmVUYWcoKS50b1N0cmluZygpLCAoKSA9PlxuICAgICAgICBOYXRpdmVBbmltYXRlZEFQSS5zZXRBbmltYXRlZE5vZGVWYWx1ZSh0aGlzLl9fZ2V0TmF0aXZlVGFnKCksIHZhbHVlKSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYW4gb2Zmc2V0IHRoYXQgaXMgYXBwbGllZCBvbiB0b3Agb2Ygd2hhdGV2ZXIgdmFsdWUgaXMgc2V0LCB3aGV0aGVyIHZpYVxuICAgKiBgc2V0VmFsdWVgLCBhbiBhbmltYXRpb24sIG9yIGBBbmltYXRlZC5ldmVudGAuICBVc2VmdWwgZm9yIGNvbXBlbnNhdGluZ1xuICAgKiB0aGluZ3MgbGlrZSB0aGUgc3RhcnQgb2YgYSBwYW4gZ2VzdHVyZS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZSNzZXRvZmZzZXRcbiAgICovXG4gIHNldE9mZnNldChvZmZzZXQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX29mZnNldCA9IG9mZnNldDtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5zZXRBbmltYXRlZE5vZGVPZmZzZXQodGhpcy5fX2dldE5hdGl2ZVRhZygpLCBvZmZzZXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNZXJnZXMgdGhlIG9mZnNldCB2YWx1ZSBpbnRvIHRoZSBiYXNlIHZhbHVlIGFuZCByZXNldHMgdGhlIG9mZnNldCB0byB6ZXJvLlxuICAgKiBUaGUgZmluYWwgb3V0cHV0IG9mIHRoZSB2YWx1ZSBpcyB1bmNoYW5nZWQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUjZmxhdHRlbm9mZnNldFxuICAgKi9cbiAgZmxhdHRlbk9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLl92YWx1ZSArPSB0aGlzLl9vZmZzZXQ7XG4gICAgdGhpcy5fb2Zmc2V0ID0gMDtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5mbGF0dGVuQW5pbWF0ZWROb2RlT2Zmc2V0KHRoaXMuX19nZXROYXRpdmVUYWcoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG9mZnNldCB2YWx1ZSB0byB0aGUgYmFzZSB2YWx1ZSwgYW5kIHJlc2V0cyB0aGUgYmFzZSB2YWx1ZSB0byB6ZXJvLlxuICAgKiBUaGUgZmluYWwgb3V0cHV0IG9mIHRoZSB2YWx1ZSBpcyB1bmNoYW5nZWQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUjZXh0cmFjdG9mZnNldFxuICAgKi9cbiAgZXh0cmFjdE9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLl9vZmZzZXQgKz0gdGhpcy5fdmFsdWU7XG4gICAgdGhpcy5fdmFsdWUgPSAwO1xuICAgIGlmICh0aGlzLl9faXNOYXRpdmUpIHtcbiAgICAgIE5hdGl2ZUFuaW1hdGVkQVBJLmV4dHJhY3RBbmltYXRlZE5vZGVPZmZzZXQodGhpcy5fX2dldE5hdGl2ZVRhZygpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgYW55IHJ1bm5pbmcgYW5pbWF0aW9uIG9yIHRyYWNraW5nLiBgY2FsbGJhY2tgIGlzIGludm9rZWQgd2l0aCB0aGVcbiAgICogZmluYWwgdmFsdWUgYWZ0ZXIgc3RvcHBpbmcgdGhlIGFuaW1hdGlvbiwgd2hpY2ggaXMgdXNlZnVsIGZvciB1cGRhdGluZ1xuICAgKiBzdGF0ZSB0byBtYXRjaCB0aGUgYW5pbWF0aW9uIHBvc2l0aW9uIHdpdGggbGF5b3V0LlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI3N0b3BhbmltYXRpb25cbiAgICovXG4gIHN0b3BBbmltYXRpb24oY2FsbGJhY2s/OiA/KHZhbHVlOiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BUcmFja2luZygpO1xuICAgIHRoaXMuX2FuaW1hdGlvbiAmJiB0aGlzLl9hbmltYXRpb24uc3RvcCgpO1xuICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICAgIE5hdGl2ZUFuaW1hdGVkQVBJLmdldFZhbHVlKHRoaXMuX19nZXROYXRpdmVUYWcoKSwgY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5fX2dldFZhbHVlKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBhbnkgYW5pbWF0aW9uIGFuZCByZXNldHMgdGhlIHZhbHVlIHRvIGl0cyBvcmlnaW5hbC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZSNyZXNldGFuaW1hdGlvblxuICAgKi9cbiAgcmVzZXRBbmltYXRpb24oY2FsbGJhY2s/OiA/KHZhbHVlOiBudW1iZXIpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BBbmltYXRpb24oY2FsbGJhY2spO1xuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fc3RhcnRpbmdWYWx1ZTtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5zZXRBbmltYXRlZE5vZGVWYWx1ZShcbiAgICAgICAgdGhpcy5fX2dldE5hdGl2ZVRhZygpLFxuICAgICAgICB0aGlzLl9zdGFydGluZ1ZhbHVlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfX29uQW5pbWF0ZWRWYWx1ZVVwZGF0ZVJlY2VpdmVkKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl91cGRhdGVWYWx1ZSh2YWx1ZSwgZmFsc2UgLypmbHVzaCovKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcnBvbGF0ZXMgdGhlIHZhbHVlIGJlZm9yZSB1cGRhdGluZyB0aGUgcHJvcGVydHksIGUuZy4gbWFwcGluZyAwLTEgdG9cbiAgICogMC0xMC5cbiAgICovXG4gIGludGVycG9sYXRlPE91dHB1dFQ6IG51bWJlciB8IHN0cmluZz4oXG4gICAgY29uZmlnOiBJbnRlcnBvbGF0aW9uQ29uZmlnVHlwZTxPdXRwdXRUPixcbiAgKTogQW5pbWF0ZWRJbnRlcnBvbGF0aW9uPE91dHB1dFQ+IHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkSW50ZXJwb2xhdGlvbih0aGlzLCBjb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFR5cGljYWxseSBvbmx5IHVzZWQgaW50ZXJuYWxseSwgYnV0IGNvdWxkIGJlIHVzZWQgYnkgYSBjdXN0b20gQW5pbWF0aW9uXG4gICAqIGNsYXNzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI2FuaW1hdGVcbiAgICovXG4gIGFuaW1hdGUoYW5pbWF0aW9uOiBBbmltYXRpb24sIGNhbGxiYWNrOiA/RW5kQ2FsbGJhY2spOiB2b2lkIHtcbiAgICBsZXQgaGFuZGxlID0gbnVsbDtcbiAgICBpZiAoYW5pbWF0aW9uLl9faXNJbnRlcmFjdGlvbikge1xuICAgICAgaGFuZGxlID0gSW50ZXJhY3Rpb25NYW5hZ2VyLmNyZWF0ZUludGVyYWN0aW9uSGFuZGxlKCk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZpb3VzQW5pbWF0aW9uID0gdGhpcy5fYW5pbWF0aW9uO1xuICAgIHRoaXMuX2FuaW1hdGlvbiAmJiB0aGlzLl9hbmltYXRpb24uc3RvcCgpO1xuICAgIHRoaXMuX2FuaW1hdGlvbiA9IGFuaW1hdGlvbjtcbiAgICBhbmltYXRpb24uc3RhcnQoXG4gICAgICB0aGlzLl92YWx1ZSxcbiAgICAgIHZhbHVlID0+IHtcbiAgICAgICAgLy8gTmF0aXZlbHkgZHJpdmVuIGFuaW1hdGlvbnMgd2lsbCBuZXZlciBjYWxsIGludG8gdGhhdCBjYWxsYmFjaywgdGhlcmVmb3JlIHdlIGNhbiBhbHdheXNcbiAgICAgICAgLy8gcGFzcyBmbHVzaCA9IHRydWUgdG8gYWxsb3cgdGhlIHVwZGF0ZWQgdmFsdWUgdG8gcHJvcGFnYXRlIHRvIG5hdGl2ZSB3aXRoIHNldE5hdGl2ZVByb3BzXG4gICAgICAgIHRoaXMuX3VwZGF0ZVZhbHVlKHZhbHVlLCB0cnVlIC8qIGZsdXNoICovKTtcbiAgICAgIH0sXG4gICAgICByZXN1bHQgPT4ge1xuICAgICAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgICAgICBpZiAoaGFuZGxlICE9PSBudWxsKSB7XG4gICAgICAgICAgSW50ZXJhY3Rpb25NYW5hZ2VyLmNsZWFySW50ZXJhY3Rpb25IYW5kbGUoaGFuZGxlKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgfSxcbiAgICAgIHByZXZpb3VzQW5pbWF0aW9uLFxuICAgICAgdGhpcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFR5cGljYWxseSBvbmx5IHVzZWQgaW50ZXJuYWxseS5cbiAgICovXG4gIHN0b3BUcmFja2luZygpOiB2b2lkIHtcbiAgICB0aGlzLl90cmFja2luZyAmJiB0aGlzLl90cmFja2luZy5fX2RldGFjaCgpO1xuICAgIHRoaXMuX3RyYWNraW5nID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUeXBpY2FsbHkgb25seSB1c2VkIGludGVybmFsbHkuXG4gICAqL1xuICB0cmFjayh0cmFja2luZzogQW5pbWF0ZWRUcmFja2luZyk6IHZvaWQge1xuICAgIHRoaXMuc3RvcFRyYWNraW5nKCk7XG4gICAgdGhpcy5fdHJhY2tpbmcgPSB0cmFja2luZztcbiAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgdHJhY2tpbmcgYW5pbWF0aW9uIHN0YXJ0cyBleGVjdXRpbmdcbiAgICB0aGlzLl90cmFja2luZyAmJiB0aGlzLl90cmFja2luZy51cGRhdGUoKTtcbiAgfVxuXG4gIF91cGRhdGVWYWx1ZSh2YWx1ZTogbnVtYmVyLCBmbHVzaDogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FuaW1hdGVkVmFsdWU6IEF0dGVtcHRpbmcgdG8gc2V0IHZhbHVlIHRvIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgaWYgKGZsdXNoKSB7XG4gICAgICBmbHVzaFZhbHVlKHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLl9fY2FsbExpc3RlbmVycyh0aGlzLl9fZ2V0VmFsdWUoKSk7XG4gIH1cblxuICBfX2dldE5hdGl2ZUNvbmZpZygpOiBPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAndmFsdWUnLFxuICAgICAgdmFsdWU6IHRoaXMuX3ZhbHVlLFxuICAgICAgb2Zmc2V0OiB0aGlzLl9vZmZzZXQsXG4gICAgfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFVQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsT0FBQTtBQUFBRixPQUFBLENBQUFHLFVBQUEsR0FBQUEsVUFBQTtBQUFBLElBQUFDLGdCQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBUSxhQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBUywyQkFBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVUsS0FBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVcsZ0JBQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFZLFVBQUEsR0FBQWIsc0JBQUEsQ0FBQUMsT0FBQTtBQU9iLElBQUFhLG1CQUFBLEdBQUFkLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBYyxxQkFBQSxHQUFBZixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQWUsc0JBQUEsR0FBQWhCLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBZ0Isc0JBQUEsR0FBQWpCLHNCQUFBLENBQUFDLE9BQUE7QUFBMEQsU0FBQWlCLFdBQUFDLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFdBQUFELENBQUEsT0FBQVIsZ0JBQUEsQ0FB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QUFDbEIsWUFBWSxDQUFDbEUsS0FBSyxFQUFFLElBQWdCLENBQUM7TUFDNUMsQ0FBQyxFQUNELFVBQUEyRixNQUFNLEVBQUk7UUFDUlAsTUFBSSxDQUFDaEMsVUFBVSxHQUFHLElBQUk7UUFDdEIsSUFBSWlDLE1BQU0sS0FBSyxJQUFJLEVBQUU7VUFDbkJFLDJCQUFrQixDQUFDSyxzQkFBc0IsQ0FBQ1AsTUFBTSxDQUFDO1FBQ25EO1FBQ0FULFFBQVEsSUFBSUEsUUFBUSxDQUFDZSxNQUFNLENBQUM7TUFDOUIsQ0FBQyxFQUNERixpQkFBaUIsRUFDakIsSUFDRixDQUFDO0lBQ0g7RUFBQztJQUFBbEMsR0FBQTtJQUFBdkQsS0FBQSxFQUtELFNBQUE2RSxhQUFBLEVBQXFCO01BQ25CLElBQUksQ0FBQ2dCLFNBQVMsSUFBSSxJQUFJLENBQUNBLFNBQVMsQ0FBQ3JDLFFBQVEsQ0FBQyxDQUFDO01BQzNDLElBQUksQ0FBQ3FDLFNBQVMsR0FBRyxJQUFJO0lBQ3ZCO0VBQUM7SUFBQXRDLEdBQUE7SUFBQXZELEtBQUEsRUFLRCxTQUFBOEYsTUFBTUMsUUFBMEIsRUFBUTtNQUN0QyxJQUFJLENBQUNsQixZQUFZLENBQUMsQ0FBQztNQUNuQixJQUFJLENBQUNnQixTQUFTLEdBQUdFLFFBQVE7TUFFekIsSUFBSSxDQUFDRixTQUFTLElBQUksSUFBSSxDQUFDQSxTQUFTLENBQUMzRCxNQUFNLENBQUMsQ0FBQztJQUMzQztFQUFDO0lBQUFxQixHQUFBO0lBQUF2RCxLQUFBLEVBRUQsU0FBQWtFLGFBQWFsRSxLQUFhLEVBQUVnRyxLQUFjLEVBQVE7TUFDaEQsSUFBSWhHLEtBQUssS0FBS2lHLFNBQVMsRUFBRTtRQUN2QixNQUFNLElBQUlqRCxLQUFLLENBQUMscURBQXFELENBQUM7TUFDeEU7TUFFQSxJQUFJLENBQUNFLE1BQU0sR0FBR2xELEtBQUs7TUFDbkIsSUFBSWdHLEtBQUssRUFBRTtRQUNUOUYsVUFBVSxDQUFDLElBQUksQ0FBQztNQUNsQjtNQUNBLElBQUksQ0FBQ2dHLGVBQWUsQ0FBQyxJQUFJLENBQUNwQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQ3pDO0VBQUM7SUFBQVAsR0FBQTtJQUFBdkQsS0FBQSxFQUVELFNBQUFtRyxrQkFBQSxFQUE0QjtNQUMxQixPQUFPO1FBQ0xDLElBQUksRUFBRSxPQUFPO1FBQ2JwRyxLQUFLLEVBQUUsSUFBSSxDQUFDa0QsTUFBTTtRQUNsQm9CLE1BQU0sRUFBRSxJQUFJLENBQUNuQjtNQUNmLENBQUM7SUFDSDtFQUFDO0FBQUEsRUF6TndDa0QsOEJBQW9CIiwiaWdub3JlTGlzdCI6W119