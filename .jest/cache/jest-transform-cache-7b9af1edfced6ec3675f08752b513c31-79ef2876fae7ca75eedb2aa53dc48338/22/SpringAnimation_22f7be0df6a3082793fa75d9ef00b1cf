3a71a607226d8043ac9f3e903fb07191
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _NativeAnimatedHelper = _interopRequireDefault(require("../NativeAnimatedHelper"));
var _AnimatedColor = _interopRequireDefault(require("../nodes/AnimatedColor"));
var SpringConfig = _interopRequireWildcard(require("../SpringConfig"));
var _Animation2 = _interopRequireDefault(require("./Animation"));
var _invariant = _interopRequireDefault(require("invariant"));
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var SpringAnimation = exports.default = function (_Animation) {
  function SpringAnimation(config) {
    var _config$overshootClam, _config$restDisplacem, _config$restSpeedThre, _config$velocity, _config$velocity2, _config$delay, _config$isInteraction, _config$iterations;
    var _this;
    (0, _classCallCheck2.default)(this, SpringAnimation);
    _this = _callSuper(this, SpringAnimation);
    _this._overshootClamping = (_config$overshootClam = config.overshootClamping) != null ? _config$overshootClam : false;
    _this._restDisplacementThreshold = (_config$restDisplacem = config.restDisplacementThreshold) != null ? _config$restDisplacem : 0.001;
    _this._restSpeedThreshold = (_config$restSpeedThre = config.restSpeedThreshold) != null ? _config$restSpeedThre : 0.001;
    _this._initialVelocity = (_config$velocity = config.velocity) != null ? _config$velocity : 0;
    _this._lastVelocity = (_config$velocity2 = config.velocity) != null ? _config$velocity2 : 0;
    _this._toValue = config.toValue;
    _this._delay = (_config$delay = config.delay) != null ? _config$delay : 0;
    _this._useNativeDriver = _NativeAnimatedHelper.default.shouldUseNativeDriver(config);
    _this._platformConfig = config.platformConfig;
    _this.__isInteraction = (_config$isInteraction = config.isInteraction) != null ? _config$isInteraction : !_this._useNativeDriver;
    _this.__iterations = (_config$iterations = config.iterations) != null ? _config$iterations : 1;
    if (config.stiffness !== undefined || config.damping !== undefined || config.mass !== undefined) {
      var _config$stiffness, _config$damping, _config$mass;
      (0, _invariant.default)(config.bounciness === undefined && config.speed === undefined && config.tension === undefined && config.friction === undefined, 'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');
      _this._stiffness = (_config$stiffness = config.stiffness) != null ? _config$stiffness : 100;
      _this._damping = (_config$damping = config.damping) != null ? _config$damping : 10;
      _this._mass = (_config$mass = config.mass) != null ? _config$mass : 1;
    } else if (config.bounciness !== undefined || config.speed !== undefined) {
      var _config$bounciness, _config$speed;
      (0, _invariant.default)(config.tension === undefined && config.friction === undefined && config.stiffness === undefined && config.damping === undefined && config.mass === undefined, 'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');
      var springConfig = SpringConfig.fromBouncinessAndSpeed((_config$bounciness = config.bounciness) != null ? _config$bounciness : 8, (_config$speed = config.speed) != null ? _config$speed : 12);
      _this._stiffness = springConfig.stiffness;
      _this._damping = springConfig.damping;
      _this._mass = 1;
    } else {
      var _config$tension, _config$friction;
      var _springConfig = SpringConfig.fromOrigamiTensionAndFriction((_config$tension = config.tension) != null ? _config$tension : 40, (_config$friction = config.friction) != null ? _config$friction : 7);
      _this._stiffness = _springConfig.stiffness;
      _this._damping = _springConfig.damping;
      _this._mass = 1;
    }
    (0, _invariant.default)(_this._stiffness > 0, 'Stiffness value must be greater than 0');
    (0, _invariant.default)(_this._damping > 0, 'Damping value must be greater than 0');
    (0, _invariant.default)(_this._mass > 0, 'Mass value must be greater than 0');
    return _this;
  }
  (0, _inherits2.default)(SpringAnimation, _Animation);
  return (0, _createClass2.default)(SpringAnimation, [{
    key: "__getNativeAnimationConfig",
    value: function __getNativeAnimationConfig() {
      var _this$_initialVelocit;
      return {
        type: 'spring',
        overshootClamping: this._overshootClamping,
        restDisplacementThreshold: this._restDisplacementThreshold,
        restSpeedThreshold: this._restSpeedThreshold,
        stiffness: this._stiffness,
        damping: this._damping,
        mass: this._mass,
        initialVelocity: (_this$_initialVelocit = this._initialVelocity) != null ? _this$_initialVelocit : this._lastVelocity,
        toValue: this._toValue,
        iterations: this.__iterations,
        platformConfig: this._platformConfig
      };
    }
  }, {
    key: "start",
    value: function start(fromValue, onUpdate, onEnd, previousAnimation, animatedValue) {
      var _this2 = this;
      this.__active = true;
      this._startPosition = fromValue;
      this._lastPosition = this._startPosition;
      this._onUpdate = onUpdate;
      this.__onEnd = onEnd;
      this._lastTime = Date.now();
      this._frameTime = 0.0;
      if (previousAnimation instanceof SpringAnimation) {
        var internalState = previousAnimation.getInternalState();
        this._lastPosition = internalState.lastPosition;
        this._lastVelocity = internalState.lastVelocity;
        this._initialVelocity = this._lastVelocity;
        this._lastTime = internalState.lastTime;
      }
      var start = function start() {
        if (!_this2._useNativeDriver && animatedValue.__isNative === true) {
          throw new Error('Attempting to run JS driven animation on animated node ' + 'that has been moved to "native" earlier by starting an ' + 'animation with `useNativeDriver: true`');
        }
        if (_this2._useNativeDriver) {
          _this2.__startNativeAnimation(animatedValue);
        } else {
          _this2.onUpdate();
        }
      };
      if (this._delay) {
        this._timeout = setTimeout(start, this._delay);
      } else {
        start();
      }
    }
  }, {
    key: "getInternalState",
    value: function getInternalState() {
      return {
        lastPosition: this._lastPosition,
        lastVelocity: this._lastVelocity,
        lastTime: this._lastTime
      };
    }
  }, {
    key: "onUpdate",
    value: function onUpdate() {
      var MAX_STEPS = 64;
      var now = Date.now();
      if (now > this._lastTime + MAX_STEPS) {
        now = this._lastTime + MAX_STEPS;
      }
      var deltaTime = (now - this._lastTime) / 1000;
      this._frameTime += deltaTime;
      var c = this._damping;
      var m = this._mass;
      var k = this._stiffness;
      var v0 = -this._initialVelocity;
      var zeta = c / (2 * Math.sqrt(k * m));
      var omega0 = Math.sqrt(k / m);
      var omega1 = omega0 * Math.sqrt(1.0 - zeta * zeta);
      var x0 = this._toValue - this._startPosition;
      var position = 0.0;
      var velocity = 0.0;
      var t = this._frameTime;
      if (zeta < 1) {
        var envelope = Math.exp(-zeta * omega0 * t);
        position = this._toValue - envelope * ((v0 + zeta * omega0 * x0) / omega1 * Math.sin(omega1 * t) + x0 * Math.cos(omega1 * t));
        velocity = zeta * omega0 * envelope * (Math.sin(omega1 * t) * (v0 + zeta * omega0 * x0) / omega1 + x0 * Math.cos(omega1 * t)) - envelope * (Math.cos(omega1 * t) * (v0 + zeta * omega0 * x0) - omega1 * x0 * Math.sin(omega1 * t));
      } else {
        var _envelope = Math.exp(-omega0 * t);
        position = this._toValue - _envelope * (x0 + (v0 + omega0 * x0) * t);
        velocity = _envelope * (v0 * (t * omega0 - 1) + t * x0 * (omega0 * omega0));
      }
      this._lastTime = now;
      this._lastPosition = position;
      this._lastVelocity = velocity;
      this._onUpdate(position);
      if (!this.__active) {
        return;
      }
      var isOvershooting = false;
      if (this._overshootClamping && this._stiffness !== 0) {
        if (this._startPosition < this._toValue) {
          isOvershooting = position > this._toValue;
        } else {
          isOvershooting = position < this._toValue;
        }
      }
      var isVelocity = Math.abs(velocity) <= this._restSpeedThreshold;
      var isDisplacement = true;
      if (this._stiffness !== 0) {
        isDisplacement = Math.abs(this._toValue - position) <= this._restDisplacementThreshold;
      }
      if (isOvershooting || isVelocity && isDisplacement) {
        if (this._stiffness !== 0) {
          this._lastPosition = this._toValue;
          this._lastVelocity = 0;
          this._onUpdate(this._toValue);
        }
        this.__debouncedOnEnd({
          finished: true
        });
        return;
      }
      this._animationFrame = requestAnimationFrame(this.onUpdate.bind(this));
    }
  }, {
    key: "stop",
    value: function stop() {
      (0, _get2.default)((0, _getPrototypeOf2.default)(SpringAnimation.prototype), "stop", this).call(this);
      this.__active = false;
      clearTimeout(this._timeout);
      global.cancelAnimationFrame(this._animationFrame);
      this.__debouncedOnEnd({
        finished: false
      });
    }
  }]);
}(_Animation2.default);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZGVmYXVsdCIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2dldDIiLCJfZ2V0UHJvdG90eXBlT2YyIiwiX2luaGVyaXRzMiIsIl9OYXRpdmVBbmltYXRlZEhlbHBlciIsIl9BbmltYXRlZENvbG9yIiwiU3ByaW5nQ29uZmlnIiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfQW5pbWF0aW9uMiIsIl9pbnZhcmlhbnQiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImhhcyIsImdldCIsIm4iLCJfX3Byb3RvX18iLCJhIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJfY2FsbFN1cGVyIiwibyIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiY29uc3RydWN0b3IiLCJhcHBseSIsIkJvb2xlYW4iLCJwcm90b3R5cGUiLCJ2YWx1ZU9mIiwiU3ByaW5nQW5pbWF0aW9uIiwiX0FuaW1hdGlvbiIsImNvbmZpZyIsIl9jb25maWckb3ZlcnNob290Q2xhbSIsIl9jb25maWckcmVzdERpc3BsYWNlbSIsIl9jb25maWckcmVzdFNwZWVkVGhyZSIsIl9jb25maWckdmVsb2NpdHkiLCJfY29uZmlnJHZlbG9jaXR5MiIsIl9jb25maWckZGVsYXkiLCJfY29uZmlnJGlzSW50ZXJhY3Rpb24iLCJfY29uZmlnJGl0ZXJhdGlvbnMiLCJfdGhpcyIsIl9vdmVyc2hvb3RDbGFtcGluZyIsIm92ZXJzaG9vdENsYW1waW5nIiwiX3Jlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQiLCJyZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkIiwiX3Jlc3RTcGVlZFRocmVzaG9sZCIsInJlc3RTcGVlZFRocmVzaG9sZCIsIl9pbml0aWFsVmVsb2NpdHkiLCJ2ZWxvY2l0eSIsIl9sYXN0VmVsb2NpdHkiLCJfdG9WYWx1ZSIsInRvVmFsdWUiLCJfZGVsYXkiLCJkZWxheSIsIl91c2VOYXRpdmVEcml2ZXIiLCJOYXRpdmVBbmltYXRlZEhlbHBlciIsInNob3VsZFVzZU5hdGl2ZURyaXZlciIsIl9wbGF0Zm9ybUNvbmZpZyIsInBsYXRmb3JtQ29uZmlnIiwiX19pc0ludGVyYWN0aW9uIiwiaXNJbnRlcmFjdGlvbiIsIl9faXRlcmF0aW9ucyIsIml0ZXJhdGlvbnMiLCJzdGlmZm5lc3MiLCJ1bmRlZmluZWQiLCJkYW1waW5nIiwibWFzcyIsIl9jb25maWckc3RpZmZuZXNzIiwiX2NvbmZpZyRkYW1waW5nIiwiX2NvbmZpZyRtYXNzIiwiaW52YXJpYW50IiwiYm91bmNpbmVzcyIsInNwZWVkIiwidGVuc2lvbiIsImZyaWN0aW9uIiwiX3N0aWZmbmVzcyIsIl9kYW1waW5nIiwiX21hc3MiLCJfY29uZmlnJGJvdW5jaW5lc3MiLCJfY29uZmlnJHNwZWVkIiwic3ByaW5nQ29uZmlnIiwiZnJvbUJvdW5jaW5lc3NBbmRTcGVlZCIsIl9jb25maWckdGVuc2lvbiIsIl9jb25maWckZnJpY3Rpb24iLCJmcm9tT3JpZ2FtaVRlbnNpb25BbmRGcmljdGlvbiIsImtleSIsIl9fZ2V0TmF0aXZlQW5pbWF0aW9uQ29uZmlnIiwiX3RoaXMkX2luaXRpYWxWZWxvY2l0IiwidHlwZSIsImluaXRpYWxWZWxvY2l0eSIsInN0YXJ0IiwiZnJvbVZhbHVlIiwib25VcGRhdGUiLCJvbkVuZCIsInByZXZpb3VzQW5pbWF0aW9uIiwiYW5pbWF0ZWRWYWx1ZSIsIl90aGlzMiIsIl9fYWN0aXZlIiwiX3N0YXJ0UG9zaXRpb24iLCJfbGFzdFBvc2l0aW9uIiwiX29uVXBkYXRlIiwiX19vbkVuZCIsIl9sYXN0VGltZSIsIkRhdGUiLCJub3ciLCJfZnJhbWVUaW1lIiwiaW50ZXJuYWxTdGF0ZSIsImdldEludGVybmFsU3RhdGUiLCJsYXN0UG9zaXRpb24iLCJsYXN0VmVsb2NpdHkiLCJsYXN0VGltZSIsIl9faXNOYXRpdmUiLCJFcnJvciIsIl9fc3RhcnROYXRpdmVBbmltYXRpb24iLCJfdGltZW91dCIsInNldFRpbWVvdXQiLCJNQVhfU1RFUFMiLCJkZWx0YVRpbWUiLCJjIiwibSIsImsiLCJ2MCIsInpldGEiLCJNYXRoIiwic3FydCIsIm9tZWdhMCIsIm9tZWdhMSIsIngwIiwicG9zaXRpb24iLCJlbnZlbG9wZSIsImV4cCIsInNpbiIsImNvcyIsImlzT3ZlcnNob290aW5nIiwiaXNWZWxvY2l0eSIsImFicyIsImlzRGlzcGxhY2VtZW50IiwiX19kZWJvdW5jZWRPbkVuZCIsImZpbmlzaGVkIiwiX2FuaW1hdGlvbkZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYmluZCIsInN0b3AiLCJjbGVhclRpbWVvdXQiLCJnbG9iYWwiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIkFuaW1hdGlvbiJdLCJzb3VyY2VzIjpbIlNwcmluZ0FuaW1hdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0eXBlIHtQbGF0Zm9ybUNvbmZpZ30gZnJvbSAnLi4vQW5pbWF0ZWRQbGF0Zm9ybUNvbmZpZyc7XG5pbXBvcnQgdHlwZSBBbmltYXRlZEludGVycG9sYXRpb24gZnJvbSAnLi4vbm9kZXMvQW5pbWF0ZWRJbnRlcnBvbGF0aW9uJztcbmltcG9ydCB0eXBlIEFuaW1hdGVkVmFsdWUgZnJvbSAnLi4vbm9kZXMvQW5pbWF0ZWRWYWx1ZSc7XG5pbXBvcnQgdHlwZSBBbmltYXRlZFZhbHVlWFkgZnJvbSAnLi4vbm9kZXMvQW5pbWF0ZWRWYWx1ZVhZJztcbmltcG9ydCB0eXBlIHtBbmltYXRpb25Db25maWcsIEVuZENhbGxiYWNrfSBmcm9tICcuL0FuaW1hdGlvbic7XG5cbmltcG9ydCBOYXRpdmVBbmltYXRlZEhlbHBlciBmcm9tICcuLi9OYXRpdmVBbmltYXRlZEhlbHBlcic7XG5pbXBvcnQgQW5pbWF0ZWRDb2xvciBmcm9tICcuLi9ub2Rlcy9BbmltYXRlZENvbG9yJztcbmltcG9ydCAqIGFzIFNwcmluZ0NvbmZpZyBmcm9tICcuLi9TcHJpbmdDb25maWcnO1xuaW1wb3J0IEFuaW1hdGlvbiBmcm9tICcuL0FuaW1hdGlvbic7XG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5cbmV4cG9ydCB0eXBlIFNwcmluZ0FuaW1hdGlvbkNvbmZpZyA9IHtcbiAgLi4uQW5pbWF0aW9uQ29uZmlnLFxuICB0b1ZhbHVlOlxuICAgIHwgbnVtYmVyXG4gICAgfCBBbmltYXRlZFZhbHVlXG4gICAgfCB7XG4gICAgICAgIHg6IG51bWJlcixcbiAgICAgICAgeTogbnVtYmVyLFxuICAgICAgICAuLi5cbiAgICAgIH1cbiAgICB8IEFuaW1hdGVkVmFsdWVYWVxuICAgIHwge1xuICAgICAgICByOiBudW1iZXIsXG4gICAgICAgIGc6IG51bWJlcixcbiAgICAgICAgYjogbnVtYmVyLFxuICAgICAgICBhOiBudW1iZXIsXG4gICAgICAgIC4uLlxuICAgICAgfVxuICAgIHwgQW5pbWF0ZWRDb2xvclxuICAgIHwgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uPG51bWJlcj4sXG4gIG92ZXJzaG9vdENsYW1waW5nPzogYm9vbGVhbixcbiAgcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZD86IG51bWJlcixcbiAgcmVzdFNwZWVkVGhyZXNob2xkPzogbnVtYmVyLFxuICB2ZWxvY2l0eT86XG4gICAgfCBudW1iZXJcbiAgICB8IHtcbiAgICAgICAgeDogbnVtYmVyLFxuICAgICAgICB5OiBudW1iZXIsXG4gICAgICAgIC4uLlxuICAgICAgfSxcbiAgYm91bmNpbmVzcz86IG51bWJlcixcbiAgc3BlZWQ/OiBudW1iZXIsXG4gIHRlbnNpb24/OiBudW1iZXIsXG4gIGZyaWN0aW9uPzogbnVtYmVyLFxuICBzdGlmZm5lc3M/OiBudW1iZXIsXG4gIGRhbXBpbmc/OiBudW1iZXIsXG4gIG1hc3M/OiBudW1iZXIsXG4gIGRlbGF5PzogbnVtYmVyLFxufTtcblxuZXhwb3J0IHR5cGUgU3ByaW5nQW5pbWF0aW9uQ29uZmlnU2luZ2xlID0ge1xuICAuLi5BbmltYXRpb25Db25maWcsXG4gIHRvVmFsdWU6IG51bWJlcixcbiAgb3ZlcnNob290Q2xhbXBpbmc/OiBib29sZWFuLFxuICByZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkPzogbnVtYmVyLFxuICByZXN0U3BlZWRUaHJlc2hvbGQ/OiBudW1iZXIsXG4gIHZlbG9jaXR5PzogbnVtYmVyLFxuICBib3VuY2luZXNzPzogbnVtYmVyLFxuICBzcGVlZD86IG51bWJlcixcbiAgdGVuc2lvbj86IG51bWJlcixcbiAgZnJpY3Rpb24/OiBudW1iZXIsXG4gIHN0aWZmbmVzcz86IG51bWJlcixcbiAgZGFtcGluZz86IG51bWJlcixcbiAgbWFzcz86IG51bWJlcixcbiAgZGVsYXk/OiBudW1iZXIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpbmdBbmltYXRpb24gZXh0ZW5kcyBBbmltYXRpb24ge1xuICBfb3ZlcnNob290Q2xhbXBpbmc6IGJvb2xlYW47XG4gIF9yZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkOiBudW1iZXI7XG4gIF9yZXN0U3BlZWRUaHJlc2hvbGQ6IG51bWJlcjtcbiAgX2xhc3RWZWxvY2l0eTogbnVtYmVyO1xuICBfc3RhcnRQb3NpdGlvbjogbnVtYmVyO1xuICBfbGFzdFBvc2l0aW9uOiBudW1iZXI7XG4gIF9mcm9tVmFsdWU6IG51bWJlcjtcbiAgX3RvVmFsdWU6IG51bWJlcjtcbiAgX3N0aWZmbmVzczogbnVtYmVyO1xuICBfZGFtcGluZzogbnVtYmVyO1xuICBfbWFzczogbnVtYmVyO1xuICBfaW5pdGlhbFZlbG9jaXR5OiBudW1iZXI7XG4gIF9kZWxheTogbnVtYmVyO1xuICBfdGltZW91dDogYW55O1xuICBfc3RhcnRUaW1lOiBudW1iZXI7XG4gIF9sYXN0VGltZTogbnVtYmVyO1xuICBfZnJhbWVUaW1lOiBudW1iZXI7XG4gIF9vblVwZGF0ZTogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQ7XG4gIF9hbmltYXRpb25GcmFtZTogYW55O1xuICBfdXNlTmF0aXZlRHJpdmVyOiBib29sZWFuO1xuICBfcGxhdGZvcm1Db25maWc6ID9QbGF0Zm9ybUNvbmZpZztcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IFNwcmluZ0FuaW1hdGlvbkNvbmZpZ1NpbmdsZSkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9vdmVyc2hvb3RDbGFtcGluZyA9IGNvbmZpZy5vdmVyc2hvb3RDbGFtcGluZyA/PyBmYWxzZTtcbiAgICB0aGlzLl9yZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkID0gY29uZmlnLnJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQgPz8gMC4wMDE7XG4gICAgdGhpcy5fcmVzdFNwZWVkVGhyZXNob2xkID0gY29uZmlnLnJlc3RTcGVlZFRocmVzaG9sZCA/PyAwLjAwMTtcbiAgICB0aGlzLl9pbml0aWFsVmVsb2NpdHkgPSBjb25maWcudmVsb2NpdHkgPz8gMDtcbiAgICB0aGlzLl9sYXN0VmVsb2NpdHkgPSBjb25maWcudmVsb2NpdHkgPz8gMDtcbiAgICB0aGlzLl90b1ZhbHVlID0gY29uZmlnLnRvVmFsdWU7XG4gICAgdGhpcy5fZGVsYXkgPSBjb25maWcuZGVsYXkgPz8gMDtcbiAgICB0aGlzLl91c2VOYXRpdmVEcml2ZXIgPSBOYXRpdmVBbmltYXRlZEhlbHBlci5zaG91bGRVc2VOYXRpdmVEcml2ZXIoY29uZmlnKTtcbiAgICB0aGlzLl9wbGF0Zm9ybUNvbmZpZyA9IGNvbmZpZy5wbGF0Zm9ybUNvbmZpZztcbiAgICB0aGlzLl9faXNJbnRlcmFjdGlvbiA9IGNvbmZpZy5pc0ludGVyYWN0aW9uID8/ICF0aGlzLl91c2VOYXRpdmVEcml2ZXI7XG4gICAgdGhpcy5fX2l0ZXJhdGlvbnMgPSBjb25maWcuaXRlcmF0aW9ucyA/PyAxO1xuXG4gICAgaWYgKFxuICAgICAgY29uZmlnLnN0aWZmbmVzcyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICBjb25maWcuZGFtcGluZyAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICBjb25maWcubWFzcyAhPT0gdW5kZWZpbmVkXG4gICAgKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIGNvbmZpZy5ib3VuY2luZXNzID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBjb25maWcuc3BlZWQgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIGNvbmZpZy50ZW5zaW9uID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBjb25maWcuZnJpY3Rpb24gPT09IHVuZGVmaW5lZCxcbiAgICAgICAgJ1lvdSBjYW4gZGVmaW5lIG9uZSBvZiBib3VuY2luZXNzL3NwZWVkLCB0ZW5zaW9uL2ZyaWN0aW9uLCBvciBzdGlmZm5lc3MvZGFtcGluZy9tYXNzLCBidXQgbm90IG1vcmUgdGhhbiBvbmUnLFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3N0aWZmbmVzcyA9IGNvbmZpZy5zdGlmZm5lc3MgPz8gMTAwO1xuICAgICAgdGhpcy5fZGFtcGluZyA9IGNvbmZpZy5kYW1waW5nID8/IDEwO1xuICAgICAgdGhpcy5fbWFzcyA9IGNvbmZpZy5tYXNzID8/IDE7XG4gICAgfSBlbHNlIGlmIChjb25maWcuYm91bmNpbmVzcyAhPT0gdW5kZWZpbmVkIHx8IGNvbmZpZy5zcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBDb252ZXJ0IHRoZSBvcmlnYW1pIGJvdW5jaW5lc3Mvc3BlZWQgdmFsdWVzIHRvIHN0aWZmbmVzcy9kYW1waW5nXG4gICAgICAvLyBXZSBhc3N1bWUgbWFzcyBpcyAxLlxuICAgICAgaW52YXJpYW50KFxuICAgICAgICBjb25maWcudGVuc2lvbiA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgY29uZmlnLmZyaWN0aW9uID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBjb25maWcuc3RpZmZuZXNzID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICBjb25maWcuZGFtcGluZyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgY29uZmlnLm1hc3MgPT09IHVuZGVmaW5lZCxcbiAgICAgICAgJ1lvdSBjYW4gZGVmaW5lIG9uZSBvZiBib3VuY2luZXNzL3NwZWVkLCB0ZW5zaW9uL2ZyaWN0aW9uLCBvciBzdGlmZm5lc3MvZGFtcGluZy9tYXNzLCBidXQgbm90IG1vcmUgdGhhbiBvbmUnLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHNwcmluZ0NvbmZpZyA9IFNwcmluZ0NvbmZpZy5mcm9tQm91bmNpbmVzc0FuZFNwZWVkKFxuICAgICAgICBjb25maWcuYm91bmNpbmVzcyA/PyA4LFxuICAgICAgICBjb25maWcuc3BlZWQgPz8gMTIsXG4gICAgICApO1xuICAgICAgdGhpcy5fc3RpZmZuZXNzID0gc3ByaW5nQ29uZmlnLnN0aWZmbmVzcztcbiAgICAgIHRoaXMuX2RhbXBpbmcgPSBzcHJpbmdDb25maWcuZGFtcGluZztcbiAgICAgIHRoaXMuX21hc3MgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDb252ZXJ0IHRoZSBvcmlnYW1pIHRlbnNpb24vZnJpY3Rpb24gdmFsdWVzIHRvIHN0aWZmbmVzcy9kYW1waW5nXG4gICAgICAvLyBXZSBhc3N1bWUgbWFzcyBpcyAxLlxuICAgICAgY29uc3Qgc3ByaW5nQ29uZmlnID0gU3ByaW5nQ29uZmlnLmZyb21PcmlnYW1pVGVuc2lvbkFuZEZyaWN0aW9uKFxuICAgICAgICBjb25maWcudGVuc2lvbiA/PyA0MCxcbiAgICAgICAgY29uZmlnLmZyaWN0aW9uID8/IDcsXG4gICAgICApO1xuICAgICAgdGhpcy5fc3RpZmZuZXNzID0gc3ByaW5nQ29uZmlnLnN0aWZmbmVzcztcbiAgICAgIHRoaXMuX2RhbXBpbmcgPSBzcHJpbmdDb25maWcuZGFtcGluZztcbiAgICAgIHRoaXMuX21hc3MgPSAxO1xuICAgIH1cblxuICAgIGludmFyaWFudCh0aGlzLl9zdGlmZm5lc3MgPiAwLCAnU3RpZmZuZXNzIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgICBpbnZhcmlhbnQodGhpcy5fZGFtcGluZyA+IDAsICdEYW1waW5nIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgICBpbnZhcmlhbnQodGhpcy5fbWFzcyA+IDAsICdNYXNzIHZhbHVlIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAnKTtcbiAgfVxuXG4gIF9fZ2V0TmF0aXZlQW5pbWF0aW9uQ29uZmlnKCk6IHt8XG4gICAgZGFtcGluZzogbnVtYmVyLFxuICAgIGluaXRpYWxWZWxvY2l0eTogbnVtYmVyLFxuICAgIGl0ZXJhdGlvbnM6IG51bWJlcixcbiAgICBtYXNzOiBudW1iZXIsXG4gICAgcGxhdGZvcm1Db25maWc6ID9QbGF0Zm9ybUNvbmZpZyxcbiAgICBvdmVyc2hvb3RDbGFtcGluZzogYm9vbGVhbixcbiAgICByZXN0RGlzcGxhY2VtZW50VGhyZXNob2xkOiBudW1iZXIsXG4gICAgcmVzdFNwZWVkVGhyZXNob2xkOiBudW1iZXIsXG4gICAgc3RpZmZuZXNzOiBudW1iZXIsXG4gICAgdG9WYWx1ZTogYW55LFxuICAgIHR5cGU6ICRURU1QT1JBUlkkc3RyaW5nPCdzcHJpbmcnPixcbiAgfH0ge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnc3ByaW5nJyxcbiAgICAgIG92ZXJzaG9vdENsYW1waW5nOiB0aGlzLl9vdmVyc2hvb3RDbGFtcGluZyxcbiAgICAgIHJlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQ6IHRoaXMuX3Jlc3REaXNwbGFjZW1lbnRUaHJlc2hvbGQsXG4gICAgICByZXN0U3BlZWRUaHJlc2hvbGQ6IHRoaXMuX3Jlc3RTcGVlZFRocmVzaG9sZCxcbiAgICAgIHN0aWZmbmVzczogdGhpcy5fc3RpZmZuZXNzLFxuICAgICAgZGFtcGluZzogdGhpcy5fZGFtcGluZyxcbiAgICAgIG1hc3M6IHRoaXMuX21hc3MsXG4gICAgICBpbml0aWFsVmVsb2NpdHk6IHRoaXMuX2luaXRpYWxWZWxvY2l0eSA/PyB0aGlzLl9sYXN0VmVsb2NpdHksXG4gICAgICB0b1ZhbHVlOiB0aGlzLl90b1ZhbHVlLFxuICAgICAgaXRlcmF0aW9uczogdGhpcy5fX2l0ZXJhdGlvbnMsXG4gICAgICBwbGF0Zm9ybUNvbmZpZzogdGhpcy5fcGxhdGZvcm1Db25maWcsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXJ0KFxuICAgIGZyb21WYWx1ZTogbnVtYmVyLFxuICAgIG9uVXBkYXRlOiAodmFsdWU6IG51bWJlcikgPT4gdm9pZCxcbiAgICBvbkVuZDogP0VuZENhbGxiYWNrLFxuICAgIHByZXZpb3VzQW5pbWF0aW9uOiA/QW5pbWF0aW9uLFxuICAgIGFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkVmFsdWUsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuX19hY3RpdmUgPSB0cnVlO1xuICAgIHRoaXMuX3N0YXJ0UG9zaXRpb24gPSBmcm9tVmFsdWU7XG4gICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gdGhpcy5fc3RhcnRQb3NpdGlvbjtcblxuICAgIHRoaXMuX29uVXBkYXRlID0gb25VcGRhdGU7XG4gICAgdGhpcy5fX29uRW5kID0gb25FbmQ7XG4gICAgdGhpcy5fbGFzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuX2ZyYW1lVGltZSA9IDAuMDtcblxuICAgIGlmIChwcmV2aW91c0FuaW1hdGlvbiBpbnN0YW5jZW9mIFNwcmluZ0FuaW1hdGlvbikge1xuICAgICAgY29uc3QgaW50ZXJuYWxTdGF0ZSA9IHByZXZpb3VzQW5pbWF0aW9uLmdldEludGVybmFsU3RhdGUoKTtcbiAgICAgIHRoaXMuX2xhc3RQb3NpdGlvbiA9IGludGVybmFsU3RhdGUubGFzdFBvc2l0aW9uO1xuICAgICAgdGhpcy5fbGFzdFZlbG9jaXR5ID0gaW50ZXJuYWxTdGF0ZS5sYXN0VmVsb2NpdHk7XG4gICAgICAvLyBTZXQgdGhlIGluaXRpYWwgdmVsb2NpdHkgdG8gdGhlIGxhc3QgdmVsb2NpdHlcbiAgICAgIHRoaXMuX2luaXRpYWxWZWxvY2l0eSA9IHRoaXMuX2xhc3RWZWxvY2l0eTtcbiAgICAgIHRoaXMuX2xhc3RUaW1lID0gaW50ZXJuYWxTdGF0ZS5sYXN0VGltZTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fdXNlTmF0aXZlRHJpdmVyICYmIGFuaW1hdGVkVmFsdWUuX19pc05hdGl2ZSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0F0dGVtcHRpbmcgdG8gcnVuIEpTIGRyaXZlbiBhbmltYXRpb24gb24gYW5pbWF0ZWQgbm9kZSAnICtcbiAgICAgICAgICAgICd0aGF0IGhhcyBiZWVuIG1vdmVkIHRvIFwibmF0aXZlXCIgZWFybGllciBieSBzdGFydGluZyBhbiAnICtcbiAgICAgICAgICAgICdhbmltYXRpb24gd2l0aCBgdXNlTmF0aXZlRHJpdmVyOiB0cnVlYCcsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl91c2VOYXRpdmVEcml2ZXIpIHtcbiAgICAgICAgdGhpcy5fX3N0YXJ0TmF0aXZlQW5pbWF0aW9uKGFuaW1hdGVkVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vblVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyAgSWYgdGhpcy5fZGVsYXkgaXMgbW9yZSB0aGFuIDAsIHdlIHN0YXJ0IGFmdGVyIHRoZSB0aW1lb3V0LlxuICAgIGlmICh0aGlzLl9kZWxheSkge1xuICAgICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoc3RhcnQsIHRoaXMuX2RlbGF5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRJbnRlcm5hbFN0YXRlKCk6IE9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3RQb3NpdGlvbjogdGhpcy5fbGFzdFBvc2l0aW9uLFxuICAgICAgbGFzdFZlbG9jaXR5OiB0aGlzLl9sYXN0VmVsb2NpdHksXG4gICAgICBsYXN0VGltZTogdGhpcy5fbGFzdFRpbWUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIHNwcmluZyBtb2RlbCBpcyBiYXNlZCBvZmYgb2YgYSBkYW1wZWQgaGFybW9uaWMgb3NjaWxsYXRvclxuICAgKiAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGFybW9uaWNfb3NjaWxsYXRvciNEYW1wZWRfaGFybW9uaWNfb3NjaWxsYXRvcikuXG4gICAqXG4gICAqIFdlIHVzZSB0aGUgY2xvc2VkIGZvcm0gb2YgdGhlIHNlY29uZCBvcmRlciBkaWZmZXJlbnRpYWwgZXF1YXRpb246XG4gICAqXG4gICAqIHgnJyArICgyzrbijbVfMCl4JyArIOKNtV4yeCA9IDBcbiAgICpcbiAgICogd2hlcmVcbiAgICogICAg4o21XzAgPSDiiJooayAvIG0pICh1bmRhbXBlZCBhbmd1bGFyIGZyZXF1ZW5jeSBvZiB0aGUgb3NjaWxsYXRvciksXG4gICAqICAgIM62ID0gYyAvIDLiiJptayAoZGFtcGluZyByYXRpbyksXG4gICAqICAgIGMgPSBkYW1waW5nIGNvbnN0YW50XG4gICAqICAgIGsgPSBzdGlmZm5lc3NcbiAgICogICAgbSA9IG1hc3NcbiAgICpcbiAgICogVGhlIGRlcml2YXRpb24gb2YgdGhlIGNsb3NlZCBmb3JtIGlzIGRlc2NyaWJlZCBpbiBkZXRhaWwgaGVyZTpcbiAgICogaHR0cDovL3BsYW5ldG1hdGgub3JnL3NpdGVzL2RlZmF1bHQvZmlsZXMvdGV4cGRmLzM5NzQ1LnBkZlxuICAgKlxuICAgKiBUaGlzIGFsZ29yaXRobSBoYXBwZW5zIHRvIG1hdGNoIHRoZSBhbGdvcml0aG0gdXNlZCBieSBDQVNwcmluZ0FuaW1hdGlvbixcbiAgICogYSBRdWFydHpDb3JlIChpT1MpIEFQSSB0aGF0IGNyZWF0ZXMgc3ByaW5nIGFuaW1hdGlvbnMuXG4gICAqL1xuICBvblVwZGF0ZSgpOiB2b2lkIHtcbiAgICAvLyBJZiBmb3Igc29tZSByZWFzb24gd2UgbG9zdCBhIGxvdCBvZiBmcmFtZXMgKGUuZy4gcHJvY2VzcyBsYXJnZSBwYXlsb2FkIG9yXG4gICAgLy8gc3RvcHBlZCBpbiB0aGUgZGVidWdnZXIpLCB3ZSBvbmx5IGFkdmFuY2UgYnkgNCBmcmFtZXMgd29ydGggb2ZcbiAgICAvLyBjb21wdXRhdGlvbiBhbmQgd2lsbCBjb250aW51ZSBvbiB0aGUgbmV4dCBmcmFtZS4gSXQncyBiZXR0ZXIgdG8gaGF2ZSBpdFxuICAgIC8vIHJ1bm5pbmcgYXQgZmFzdGVyIHNwZWVkIHRoYW4ganVtcGluZyB0byB0aGUgZW5kLlxuICAgIGNvbnN0IE1BWF9TVEVQUyA9IDY0O1xuICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChub3cgPiB0aGlzLl9sYXN0VGltZSArIE1BWF9TVEVQUykge1xuICAgICAgbm93ID0gdGhpcy5fbGFzdFRpbWUgKyBNQVhfU1RFUFM7XG4gICAgfVxuXG4gICAgY29uc3QgZGVsdGFUaW1lID0gKG5vdyAtIHRoaXMuX2xhc3RUaW1lKSAvIDEwMDA7XG4gICAgdGhpcy5fZnJhbWVUaW1lICs9IGRlbHRhVGltZTtcblxuICAgIGNvbnN0IGM6IG51bWJlciA9IHRoaXMuX2RhbXBpbmc7XG4gICAgY29uc3QgbTogbnVtYmVyID0gdGhpcy5fbWFzcztcbiAgICBjb25zdCBrOiBudW1iZXIgPSB0aGlzLl9zdGlmZm5lc3M7XG4gICAgY29uc3QgdjA6IG51bWJlciA9IC10aGlzLl9pbml0aWFsVmVsb2NpdHk7XG5cbiAgICBjb25zdCB6ZXRhID0gYyAvICgyICogTWF0aC5zcXJ0KGsgKiBtKSk7IC8vIGRhbXBpbmcgcmF0aW9cbiAgICBjb25zdCBvbWVnYTAgPSBNYXRoLnNxcnQoayAvIG0pOyAvLyB1bmRhbXBlZCBhbmd1bGFyIGZyZXF1ZW5jeSBvZiB0aGUgb3NjaWxsYXRvciAocmFkL21zKVxuICAgIGNvbnN0IG9tZWdhMSA9IG9tZWdhMCAqIE1hdGguc3FydCgxLjAgLSB6ZXRhICogemV0YSk7IC8vIGV4cG9uZW50aWFsIGRlY2F5XG4gICAgY29uc3QgeDAgPSB0aGlzLl90b1ZhbHVlIC0gdGhpcy5fc3RhcnRQb3NpdGlvbjsgLy8gY2FsY3VsYXRlIHRoZSBvc2NpbGxhdGlvbiBmcm9tIHgwID0gMSB0byB4ID0gMFxuXG4gICAgbGV0IHBvc2l0aW9uID0gMC4wO1xuICAgIGxldCB2ZWxvY2l0eSA9IDAuMDtcbiAgICBjb25zdCB0ID0gdGhpcy5fZnJhbWVUaW1lO1xuICAgIGlmICh6ZXRhIDwgMSkge1xuICAgICAgLy8gVW5kZXIgZGFtcGVkXG4gICAgICBjb25zdCBlbnZlbG9wZSA9IE1hdGguZXhwKC16ZXRhICogb21lZ2EwICogdCk7XG4gICAgICBwb3NpdGlvbiA9XG4gICAgICAgIHRoaXMuX3RvVmFsdWUgLVxuICAgICAgICBlbnZlbG9wZSAqXG4gICAgICAgICAgKCgodjAgKyB6ZXRhICogb21lZ2EwICogeDApIC8gb21lZ2ExKSAqIE1hdGguc2luKG9tZWdhMSAqIHQpICtcbiAgICAgICAgICAgIHgwICogTWF0aC5jb3Mob21lZ2ExICogdCkpO1xuICAgICAgLy8gVGhpcyBsb29rcyBjcmF6eSAtLSBpdCdzIGFjdHVhbGx5IGp1c3QgdGhlIGRlcml2YXRpdmUgb2YgdGhlXG4gICAgICAvLyBvc2NpbGxhdGlvbiBmdW5jdGlvblxuICAgICAgdmVsb2NpdHkgPVxuICAgICAgICB6ZXRhICpcbiAgICAgICAgICBvbWVnYTAgKlxuICAgICAgICAgIGVudmVsb3BlICpcbiAgICAgICAgICAoKE1hdGguc2luKG9tZWdhMSAqIHQpICogKHYwICsgemV0YSAqIG9tZWdhMCAqIHgwKSkgLyBvbWVnYTEgK1xuICAgICAgICAgICAgeDAgKiBNYXRoLmNvcyhvbWVnYTEgKiB0KSkgLVxuICAgICAgICBlbnZlbG9wZSAqXG4gICAgICAgICAgKE1hdGguY29zKG9tZWdhMSAqIHQpICogKHYwICsgemV0YSAqIG9tZWdhMCAqIHgwKSAtXG4gICAgICAgICAgICBvbWVnYTEgKiB4MCAqIE1hdGguc2luKG9tZWdhMSAqIHQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JpdGljYWxseSBkYW1wZWRcbiAgICAgIGNvbnN0IGVudmVsb3BlID0gTWF0aC5leHAoLW9tZWdhMCAqIHQpO1xuICAgICAgcG9zaXRpb24gPSB0aGlzLl90b1ZhbHVlIC0gZW52ZWxvcGUgKiAoeDAgKyAodjAgKyBvbWVnYTAgKiB4MCkgKiB0KTtcbiAgICAgIHZlbG9jaXR5ID1cbiAgICAgICAgZW52ZWxvcGUgKiAodjAgKiAodCAqIG9tZWdhMCAtIDEpICsgdCAqIHgwICogKG9tZWdhMCAqIG9tZWdhMCkpO1xuICAgIH1cblxuICAgIHRoaXMuX2xhc3RUaW1lID0gbm93O1xuICAgIHRoaXMuX2xhc3RQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMuX2xhc3RWZWxvY2l0eSA9IHZlbG9jaXR5O1xuXG4gICAgdGhpcy5fb25VcGRhdGUocG9zaXRpb24pO1xuICAgIGlmICghdGhpcy5fX2FjdGl2ZSkge1xuICAgICAgLy8gYSBsaXN0ZW5lciBtaWdodCBoYXZlIHN0b3BwZWQgdXMgaW4gX29uVXBkYXRlXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ29uZGl0aW9ucyBmb3Igc3RvcHBpbmcgdGhlIHNwcmluZyBhbmltYXRpb25cbiAgICBsZXQgaXNPdmVyc2hvb3RpbmcgPSBmYWxzZTtcbiAgICBpZiAodGhpcy5fb3ZlcnNob290Q2xhbXBpbmcgJiYgdGhpcy5fc3RpZmZuZXNzICE9PSAwKSB7XG4gICAgICBpZiAodGhpcy5fc3RhcnRQb3NpdGlvbiA8IHRoaXMuX3RvVmFsdWUpIHtcbiAgICAgICAgaXNPdmVyc2hvb3RpbmcgPSBwb3NpdGlvbiA+IHRoaXMuX3RvVmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpc092ZXJzaG9vdGluZyA9IHBvc2l0aW9uIDwgdGhpcy5fdG9WYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXNWZWxvY2l0eSA9IE1hdGguYWJzKHZlbG9jaXR5KSA8PSB0aGlzLl9yZXN0U3BlZWRUaHJlc2hvbGQ7XG4gICAgbGV0IGlzRGlzcGxhY2VtZW50ID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5fc3RpZmZuZXNzICE9PSAwKSB7XG4gICAgICBpc0Rpc3BsYWNlbWVudCA9XG4gICAgICAgIE1hdGguYWJzKHRoaXMuX3RvVmFsdWUgLSBwb3NpdGlvbikgPD0gdGhpcy5fcmVzdERpc3BsYWNlbWVudFRocmVzaG9sZDtcbiAgICB9XG5cbiAgICBpZiAoaXNPdmVyc2hvb3RpbmcgfHwgKGlzVmVsb2NpdHkgJiYgaXNEaXNwbGFjZW1lbnQpKSB7XG4gICAgICBpZiAodGhpcy5fc3RpZmZuZXNzICE9PSAwKSB7XG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHdlIGVuZCB1cCB3aXRoIGEgcm91bmQgdmFsdWVcbiAgICAgICAgdGhpcy5fbGFzdFBvc2l0aW9uID0gdGhpcy5fdG9WYWx1ZTtcbiAgICAgICAgdGhpcy5fbGFzdFZlbG9jaXR5ID0gMDtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUodGhpcy5fdG9WYWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX19kZWJvdW5jZWRPbkVuZCh7ZmluaXNoZWQ6IHRydWV9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gJEZsb3dGaXhNZVttZXRob2QtdW5iaW5kaW5nXSBhZGRlZCB3aGVuIGltcHJvdmluZyB0eXBpbmcgZm9yIHRoaXMgcGFyYW1ldGVyc1xuICAgIHRoaXMuX2FuaW1hdGlvbkZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBzdG9wKCk6IHZvaWQge1xuICAgIHN1cGVyLnN0b3AoKTtcbiAgICB0aGlzLl9fYWN0aXZlID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZSk7XG4gICAgdGhpcy5fX2RlYm91bmNlZE9uRW5kKHtmaW5pc2hlZDogZmFsc2V9KTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFVQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsT0FBQTtBQUFBLElBQUFDLGdCQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBTyxhQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBUSwyQkFBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVMsS0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVUsZ0JBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFXLFVBQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQVFiLElBQUFZLHFCQUFBLEdBQUFiLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBYSxjQUFBLEdBQUFkLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBYyxZQUFBLEdBQUFDLHVCQUFBLENBQUFmLE9BQUE7QUFDQSxJQUFBZ0IsV0FBQSxHQUFBakIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFpQixVQUFBLEdBQUFsQixzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLFNBQUFrQix5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSx5QkFBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEs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